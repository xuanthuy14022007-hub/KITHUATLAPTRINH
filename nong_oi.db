CREATE TABLE Users (
    user_id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT UNIQUE,
    password TEXT,
    role TEXT,
    full_name TEXT,
    email TEXT
)
""")

cursor.execute("""
CREATE TABLE Crops (
    crop_id INTEGER PRIMARY KEY AUTOINCREMENT,
    crop_name TEXT,
    category TEXT,
    base_price REAL
)
""")

cursor.execute("""
CREATE TABLE FarmingActivities (
    activity_id INTEGER PRIMARY KEY AUTOINCREMENT,
    farmer_id INTEGER,
    crop_id INTEGER,
    cost_seeds REAL,
    cost_fertilizer REAL,
    cost_labor REAL,
    start_date DATE,
    FOREIGN KEY (farmer_id) REFERENCES Users(user_id),
    FOREIGN KEY (crop_id) REFERENCES Crops(crop_id)
)
""")

cursor.execute("""
CREATE TABLE Orders (
    order_id INTEGER PRIMARY KEY AUTOINCREMENT,
    merchant_id INTEGER,
    farmer_id INTEGER,
    status TEXT,
    total_amount REAL,
    merchant_note TEXT,
    FOREIGN KEY (merchant_id) REFERENCES Users(user_id),
    FOREIGN KEY (farmer_id) REFERENCES Users(user_id)
)
""")

cursor.execute("""
CREATE TABLE OrderItems (
    item_id INTEGER PRIMARY KEY AUTOINCREMENT,
    order_id INTEGER,
    crop_id INTEGER,
    quantity REAL,
    unit_price REAL,
    FOREIGN KEY (order_id) REFERENCES Orders(order_id),
    FOREIGN KEY (crop_id) REFERENCES Crops(crop_id)
)
""")

cursor.execute("""
CREATE TABLE ActivityLog (
    log_id INTEGER PRIMARY KEY AUTOINCREMENT,
    farm_id INTEGER,
    crop_id INTEGER,
    end_date DATE,
    soil_status TEXT
)
""")

cursor.execute("""
CREATE TABLE FinancialReports (
    report_id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,
    total_revenue REAL,
    total_profit REAL,
    export_date DATETIME,
    FOREIGN KEY (user_id) REFERENCES Users(user_id)
)
""")